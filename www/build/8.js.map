{"version":3,"sources":["../../src/pages/survey-list/survey-list.module.ts","../../src/pages/survey-list/survey-list.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurveyList } from './survey-list';\n\n@NgModule({\n  declarations: [\n    SurveyList,\n  ],\n  imports: [\n    IonicPageModule.forChild(SurveyList),\n  ],\n})\nexport class SurveyListModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey-list/survey-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { LoadingService } from '../../providers/loading-service';\nimport { DataService } from '../../providers/data-service';\nimport { ShowMessage } from '../../providers/show-message';\n\n@IonicPage()\n@Component({\n  selector: 'page-survey-list',\n  templateUrl: 'survey-list.html',\n})\nexport class SurveyList {\n\n  survey_list = [];\n  completed_survey_list = [];\n  loginResponse: any = {};\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingService: LoadingService,\n    private dataService: DataService,\n    private showMessage: ShowMessage) {\n    this.loginResponse = JSON.parse(localStorage.getItem(\"loginResponse\"));\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SurveyList');\n  }\n\n  ionViewWillEnter() {\n    this.getAllSurves();\n  }\n\n  getAllSurves() {\n    this.loadingService.showLoading();\n    this.dataService.postData(\"allSurveys\", {\n      \"estateName\": this.loginResponse.user.estateName,\n      \"userId\": this.loginResponse.user._id\n    }, {}).subscribe(results => {\n      if (results.success == true) {\n        this.survey_list = results.survey;\n        console.log(results);\n        this.completed_survey_list = results.completedSurveys;\n        console.log(this.completed_survey_list);\n        this.survey_list.forEach(element => {\n          this.completed_survey_list.forEach(completedElement => {\n            if (element._id == completedElement) {\n              element.is_finished = true;\n            }\n          });\n        });\n        this.loadingService.hideLoading();\n      }\n      else {\n        this.showMessage.showToastBottom(results.message);\n        this.loadingService.hideLoading();\n      }\n    }, err => {\n      console.log(\"err\", err);\n      this.loadingService.hideLoading();\n      this.showMessage.showToastBottom(\"Unable to get Upcoming meetings, please try again.\");\n    });\n  }\n\n  toggleGroup(group: any) {\n    group.show = !group.show;\n  }\n\n  isGroupShown(group: any) {\n    return group.show;\n  }\n\n  viewSurveyDetails(survey_details) {\n    let tmp_survey_details = JSON.stringify(survey_details);\n    this.navCtrl.push(\"Surveys\", { \"survey_details\": tmp_survey_details });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey-list/survey-list.ts"],"sourceRoot":""}