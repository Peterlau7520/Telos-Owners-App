{"version":3,"sources":["../../src/pages/noticeboard/noticeboard.module.ts","../../src/pages/noticeboard/noticeboard.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACJ;AAU5C;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAR7B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,iEAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,iEAAW,CAAC;aACtC;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZY;AACe;AACF;AACK;AACsC;AACxD;AAC4C;AAErB;AACN;AACA;AAO3D;IAKE,qBACS,OAAsB,EACtB,SAAoB,EACnB,QAAsB,EACtB,IAAU,EAAU,GAAiB,EACrC,QAAwB,EAAU,UAAsB,EAAS,cAA8B,EAC/F,WAAwB,EACxB,WAAwB;QANzB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,aAAQ,GAAR,QAAQ,CAAc;QACtB,SAAI,GAAJ,IAAI,CAAM;QAAU,QAAG,GAAH,GAAG,CAAc;QACrC,aAAQ,GAAR,QAAQ,CAAgB;QAAU,eAAU,GAAV,UAAU,CAAY;QAAS,mBAAc,GAAd,cAAc,CAAgB;QAC/F,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAT3B,YAAO,GAAQ,EAAE,CAAC;IAUzB,CAAC;IAAA,CAAC;IACF,oCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5C,CAAC;IAED,sCAAgB,GAAhB;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,wCAAkB,GAAlB;QAAA,iBAiBC;QAhBC,wCAAwC;QACxC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,iBAAO;YAC3D,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;gBAC/B,KAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YACpC,CAAC;YACD,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAClD,KAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YACpC,CAAC;QACH,CAAC,EAAE,aAAG;YACJ,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,KAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAClC,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,mDAAmD,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,iCAAW,GAAX,UAAY,MAAM;QAAlB,iBAwCC;QAvCC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;QACpC,8BAA8B;QAC9B,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACvC,IAAM,OAAO,GAA0B;YACrC,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;YACzB,SAAS,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;YAC7B,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;YACzB,KAAK,EAAE,YAAY,CAAC,IAAI;SACzB,CAAC;QACF,IAAM,YAAY,GAAuB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAChE,IAAM,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC;QAC7B,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK;YACjF,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;YACnD,KAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAI,CAAC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,EAAE,iBAAiB,EACvF,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC;QACrD,CAAC,EAAE,UAAC,KAAK;YACP,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,eAAe;QACjB,CAAC,CAAC,CAAC;QAEH;YACE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACrC,2BAA2B;QAC7B,CAAC;QAED;YACE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YACtC,wBAAwB;QAC1B,CAAC;QAED,sBAAsB,KAAK,EAAE,SAAS;YACpC,EAAE,CAAC,CAAC,OAAO,CAAC,gHAAgH,CAAC,CAAC,CAAC,CAAC;gBAC9H,SAAS,EAAE,CAAC;YACd,CAAC;QACH,CAAC;QACD,iBAAiB,KAAK;YACpB,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC1B,KAAK,CAAC,8BAA8B,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAjFU,WAAW;QAJvB,gEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;6EAO+B;YACX,iFAAS;YACT,oJAAY;YAChB,qFAAmB,+EAAY;YAC3B,6EAAqF;YAClF,4EAAW;YACX,QAAW;OAZvB,WAAW,CAmFvB;IAAD,CAAC;AAAA;SAnFY,WAAW,mB","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Noticeboard } from './noticeboard';\n\n@NgModule({\n  declarations: [\n    Noticeboard,\n  ],\n  imports: [\n    IonicPageModule.forChild(Noticeboard),\n  ],\n})\nexport class NoticeboardModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/noticeboard/noticeboard.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { FileOpener } from '@ionic-native/file-opener';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\nimport { DocumentViewer, DocumentViewerOptions } from '@ionic-native/document-viewer';\n\nimport { LoadingService } from '../../providers/loading-service';\nimport { DataService } from '../../providers/data-service';\nimport { ShowMessage } from '../../providers/show-message';\n\n@IonicPage()\n@Component({\n  selector: 'page-noticeboard',\n  templateUrl: 'noticeboard.html',\n})\nexport class Noticeboard {\n\n  browser: any;\n  public notices: any = [];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private transfer: FileTransfer,\n    private file: File, private iab: InAppBrowser,\n    private document: DocumentViewer, private fileOpener: FileOpener, public loadingService: LoadingService,\n    private dataService: DataService,\n    private showMessage: ShowMessage) {\n  };\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Noticeboard');\n  }\n\n  ionViewWillEnter() {\n    this.getNoticeBoardData();\n  }\n\n  getNoticeBoardData() {\n    /* this.loadingService.showLoading(); */\n    this.dataService.getData(\"noticeBoard\", {}).subscribe(results => {\n      if (results.success == true) {\n        this.notices = results.notices;\n        this.loadingService.hideLoading();\n      }\n      else {\n        this.showMessage.showToastBottom(results.message);\n        this.loadingService.hideLoading();\n      }\n    }, err => {\n      console.log(\"err\", err);\n      this.loadingService.hideLoading();\n      this.showMessage.showToastBottom(\"Unable to get Noticeboard data, please try again.\");\n    });\n\n  }\n\n  viewPdfFile(notice) {\n    console.log(JSON.stringify(notice));\n    /* this.file.dataDirectory; */\n    let file_details = notice.fileLinks[0];\n    const options: DocumentViewerOptions = {\n      print: { enabled: false },\n      bookmarks: { enabled: false },\n      email: { enabled: false },\n      title: file_details.name\n    };\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    const url = file_details.url;\n    fileTransfer.download(url, this.file.dataDirectory + file_details.name).then((entry) => {\n      console.log('download complete: ' + entry.toURL());\n      this.document.viewDocument(this.file.dataDirectory + file_details.name, \"application/pdf\",\n        options, onShow, onClose, onMissingApp, onError);\n    }, (error) => {\n      console.log(error);\n      // handle error\n    });\n\n    function onShow() {\n      window.console.log('document shown');\n      //e.g. track document usage\n    }\n\n    function onClose() {\n      window.console.log('document closed');\n      //e.g. remove temp files\n    }\n\n    function onMissingApp(appId, installer) {\n      if (confirm(\"PDF viewer not available on your device, Do you want to install the free PDF Viewer App to view this document?\")) {\n        installer();\n      }\n    }\n    function onError(error) {\n      window.console.log(error);\n      alert(\"Sorry! Cannot view document.\");\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/noticeboard/noticeboard.ts"],"sourceRoot":""}