<ion-header>
  <ion-navbar>
    <ion-title>
      <p>大會詳情 | Meeting Details</p>
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content white-background>
  <!-- <ion-item no-lines background-size [ngStyle]="{'background-image': 'url(' + meeting_details.meeting_background + ')'}"> -->
  <!-- <ion-item no-lines background-size>
  </ion-item> -->

  <ion-grid no-padding>
    <ion-row>
      <!--Parallax Rateing-->
      <!-- <ion-col col-12>
        <ion-item no-lines header-bcg no-padding text-wrap>
          <h1 parallax-title text-center margin-bottom padding-vertical>{{meeting_details.meeting_titleChn}} | {{meeting_details.meeting_title}} </h1>
        </ion-item>
      </ion-col> -->
      <!--Content-->
      <ion-col col-12>
        <!--Info-->
        <ion-item color-1d1d26 no-lines no-margin text-wrap padding-right>
          <ion-label>
            <ion-row>
              <ion-col col-12 no-padding>
                <span left>
                  <ion-icon>
                    <img src="./assets/images/icons/date_time.png" class="label-icons-time" alt="">&nbsp;
                  </ion-icon>
                  <span c-font-w-600>大會時間 | Meeting time :</span> {{meeting_details.meeting_startTime}} — {{meeting_details.meeting_endTime}}&nbsp;</span>
              </ion-col>
              <ion-col col-12 no-padding>
                <span left>
                  <ion-icon>
                    <img src="./assets/images/icons/venue.png" class="label-icons-venue" alt="">&nbsp;
                  </ion-icon>
                  <span c-font-w-600>地點 | Venue :</span> {{meeting_details.meeting_venue}}</span>
              </ion-col>
              <ion-col col-12 no-padding>
                <span left>
                  <!-- <ion-icon> -->
                  <img src="./assets/images/icons/live_stream.png" class="label-icons-live-stream" alt="">&nbsp;
                  <!-- </ion-icon> -->
                  <span c-font-w-600>直播 | Live stream :</span>&nbsp;</span>
                <a c-display-inline-block *ngIf="meeting_details.meeting_youtubelink" (click)="openMeetingURL(meeting_details.meeting_youtubelink)">Click here</a>
                <a c-display-inline-block *ngIf="!meeting_details.meeting_youtubelink">N/A</a>
              </ion-col>
            </ion-row>
          </ion-label>
        </ion-item>
        <!-- Description-->
        <ion-item color-1d1d26 no-lines text-wrap no-margin padding-right>
          <ion-label no-margin>
            <!-- <span left>
              <img src="./assets/images/icons/summary.png" c-display-inline-block class="label-icons-live-summary" alt="">&nbsp;
            </span>
            <span left>{{meeting_details.meeting_desc}}</span> -->
            <div c-display-inline-block class="time-img-div-3">
              <img src="./assets/images/icons/summary.png" class="label-icons-live-summary" alt="">&nbsp;
            </div>
            <div c-display-inline-block class="time-text-div">
              <div c-font-w-600>概要 | Summary</div>
              <div>{{meeting_details.meeting_desc}}</div>
            </div>
          </ion-label>
        </ion-item>
        <ion-item color-1d1d26 no-lines text-wrap no-margin padding-right>
          <ion-label no-margin padding-top>
            <div>
              <span left>
                <img src="./assets/images/icons/document.png" class="label-icons-file" alt="">&nbsp;
              </span>
              <span left c-font-w-600>議程 | Agenda :&nbsp;</span>
              <span c-display-inline-block>
                <a (click)="openAgendaFile(meeting_details.meeting_fileLinks[0])"> {{meeting_details.meeting_fileLinks[0].name}}</a>
              </span>
            </div>
            <div>
              <span left>
                <ion-icon>
                  <img src="./assets/images/icons/date_time.png" class="label-icons-time" alt="">
                </ion-icon>
                <span c-font-w-600>投票截止日期 | Voted by :</span> {{meeting_details.meeting_pollEndTime}}</span>
            </div>
            <div>
              <span left padding-top>
                <ion-icon>
                  <img src="./assets/images/icons/poll.png" class="label-icons-poll" alt="">&nbsp;
                </ion-icon>
                <span c-font-w-600> 議案 | Polls </span>
              </span>
            </div>
          </ion-label>
        </ion-item>
        <ion-item color-1d1d26 no-padding text-wrap padding-bottom no-lines *ngIf="!is_license_accepted">
          <ion-label padding no-margin>
            <ion-card c-width-100 no-margin poll-box-shadow (click)="openViewPoll()">
              <ion-card-content text-center margin>
                <h3 color-1d1d26 no-margin c-font-bold>View Polls</h3>
              </ion-card-content>
            </ion-card>
          </ion-label>
        </ion-item>
        <ion-item color-1d1d26 text-wrap no-padding *ngIf="is_license_accepted">
          <ion-label no-margin padding-5px>
            <ion-list>
              <ul no-margin no-padding class="collapsible">
                <li no-margin padding-bottom *ngFor="let poll_details of poll_list;">
                  <ion-card poll-box-shadow>
                    <!-- Expandable Centered with header Header-->
                    <div class="collapsible-header" no-margin no-padding (click)="expandPoll(poll_details)">
                      <ion-item no-padding text-center text-wrap no-lines text-center>
                        <ion-icon name="md-checkmark" class="check-mark-style" style="visibility:hidden !important;" item-start>
                        </ion-icon>
                        <h3 color-1d1d26 no-margin c-font-bold>
                          {{poll_details.pollNameChn}}
                        </h3>
                        <h3 color-1d1d26 no-margin c-font-bold>
                          {{poll_details.pollName}}
                        </h3>
                        <ion-icon name="md-checkmark" class="check-mark-style" item-end *ngIf="poll_details.is_complete">
                        </ion-icon>
                        <ion-icon name="md-checkmark" class="check-mark-style" style="visibility:hidden !important;" item-end *ngIf="!poll_details.is_complete">
                        </ion-icon>
                      </ion-item>
                    </div>
                    <!-- Expandable Centered with header Body -->
                    <div class="item-accordion" [ngClass]="{'active': isGroupShown(poll_details) }" [hidden]="!isGroupShown(poll_details)">
                      <ion-card no-margin c-width-100 border-top-e7>
                        <ion-item color-1d1d26 text-wrap padding-5px text-wrap>
                          <ion-label no-margin>
                            <h2 color-1d1d26 class="summary-title">
                              <span>
                                <img src="./assets/images/icons/summary.png" c-display-inline-block class="label-icons-live-summary" alt=""> 概要 | Summary
                              </span>
                            </h2>
                            <h5 color-1d1d26 class="summary-desc">{{poll_details.summaryChn}} | {{poll_details.summary}} </h5>
                          </ion-label>
                        </ion-item>
                      </ion-card>
                      <ion-card no-margin c-width-100 border-top-e7>
                        <ion-item color-1d1d26 text-wrap padding-5px text-wrap>
                          <ion-label no-margin>
                            <h2 color-1d1d26 class="summary-title">
                              <span>
                                <img src="./assets/images/icons/document.png" c-display-inline-block class="label-icons-file" alt="">&nbsp; Documents
                              </span>
                            </h2>
                            <a *ngFor="let documents of poll_details.fileLinks; let i=index;" (click)="openAgendaFile(documents)">
                              {{i+1}}. {{documents.name}}
                            </a>
                          </ion-label>
                        </ion-item>
                      </ion-card>
                      <ion-card no-margin c-width-100 border-top-e7>
                        <ion-item color-1d1d26 text-wrap padding-5px text-wrap>
                          <ion-label no-margin>
                            <h2 color-1d1d26 class="summary-title">
                              <img src="./assets/images/icons/poll.png" c-display-inline-block class="label-icons-poll" alt=""> Poll Options</h2>
                            <div margin *ngIf="poll_details.is_complete">
                              <ion-card no-margin transparent c-width-100 class="margin-top-10" *ngFor="let option_details of poll_details.options;" (click)="saveVotingData(poll_details, option_details)">
                                <ion-item text-wrap no-padding style="background-color:#eeeeee;">
                                  <ion-icon name="md-checkmark" style="position: absolute; top: 10px;" class="check-mark-style" item-start *ngIf="option_details.choice">
                                  </ion-icon>
                                  <h5 color-1d1d26 text-center> {{option_details.label}}</h5>
                                </ion-item>
                              </ion-card>
                            </div>
                            <div margin *ngIf="!poll_details.is_complete">
                              <ion-card no-margin c-width-100 class="margin-top-10" *ngFor="let option_details of poll_details.options;" (click)="saveVotingData(poll_details, option_details)">
                                <ion-item text-wrap no-padding>
                                  <ion-icon name="md-checkmark" style="position: absolute; top: 10px;" class="check-mark-style" item-start *ngIf="option_details.choice">
                                  </ion-icon>
                                  <h5 color-1d1d26 text-center> {{option_details.label}}</h5>
                                </ion-item>
                              </ion-card>
                            </div>
                          </ion-label>
                        </ion-item>
                      </ion-card>
                    </div>
                  </ion-card>
                </li>
              </ul>
            </ion-list>
          </ion-label>

        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>