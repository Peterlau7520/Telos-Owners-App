{"version":3,"sources":["../../src/pages/survey-list/survey-list.module.ts","../../src/pages/survey-list/survey-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAU3C;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAR5B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gEAAU;aACX;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gEAAU,CAAC;aACrC;SACF,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZa;AACe;AAGQ;AACN;AACA;AAQ3D;IAOE,oBAAmB,OAAsB,EAAS,SAAoB,EAAS,cAA8B,EACnG,WAAwB,EACxB,WAAwB;QAFf,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,mBAAc,GAAd,cAAc,CAAgB;QACnG,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAPlC,oBAAe,GAAG,EAAE,CAAC;QACrB,0BAAqB,GAAG,EAAE,CAAC;QAC3B,kBAAa,GAAQ,EAAE,CAAC;QACxB,UAAK,GAAQ,EAAE,CAAC;QAKd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED,mCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;IAC3C,CAAC;IAED,qCAAgB,GAAhB;QACE,0BAA0B;IAC5B,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAqCI;IAEJ,gCAAW,GAAX,UAAY,KAAU;QACpB,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,iCAAY,GAAZ,UAAa,KAAU;QACrB,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;IACpB,CAAC;IAED,sCAAiB,GAAjB,UAAkB,cAAc;QAC9B,IAAI,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,CAAC,CAAC;IACzE,CAAC;IAzEU,UAAU;QAJtB,gEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;yFAQ6G;YACtF,4EAAW;YACX,OAAW;OATvB,UAAU,CA2EtB;IAAD,CAAC;AAAA;SA3EY,UAAU,oB","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurveyList } from './survey-list';\n\n@NgModule({\n  declarations: [\n    SurveyList,\n  ],\n  imports: [\n    IonicPageModule.forChild(SurveyList),\n  ],\n})\nexport class SurveyListModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey-list/survey-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport * as moment from 'moment';\n\nimport { LoadingService } from '../../providers/loading-service';\nimport { DataService } from '../../providers/data-service';\nimport { ShowMessage } from '../../providers/show-message';\nimport { HomePage } from '../../pages/home/home';\n\n@IonicPage()\n@Component({\n  selector: 'page-survey-list',\n  templateUrl: 'survey-list.html',\n})\nexport class SurveyList {\n\n  new_survey_list = [];\n  completed_survey_list = [];\n  loginResponse: any = {};\n  token: any = \"\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingService: LoadingService,\n    private dataService: DataService,\n    private showMessage: ShowMessage) {\n    this.loginResponse = JSON.parse(localStorage.getItem(\"loginResponse\"));\n    this.new_survey_list = JSON.parse(this.navParams.get(\"new_surveys\"));\n    this.token = localStorage.getItem(\"token\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SurveyList');\n  }\n\n  ionViewWillEnter() {\n    /* this.getAllSurves(); */\n  }\n\n  /* getAllSurves() {\n    this.loadingService.showLoading();\n    this.dataService.postData(\"allSurveys\", {\n      \"estateName\": this.loginResponse.user.estateName,\n      \"userId\": this.loginResponse.user._id\n    }, {\n        headers: {\n          'authorization': this.token\n        }\n      }).subscribe(results => {\n        if (results.success == true) {\n          this.survey_list = results.survey;\n          console.log(results);\n          this.completed_survey_list = results.completedSurveys;\n          console.log(this.completed_survey_list);\n          this.survey_list.forEach(element => {\n            element.effectiveTo = moment(element.effectiveTo).format('YYYY-MM-DD HH:mm');\n            this.completed_survey_list.forEach(completedElement => {\n              if (element._id == completedElement) {\n                element.is_finished = true;\n              }\n            });\n          });\n          this.loadingService.hideLoading();\n        }\n        else {\n          this.showMessage.showToastBottom(results.message);\n          this.loadingService.hideLoading();\n          if (results.message == \"Invalid token\" || results.message == \"Please login\") {\n            this.navCtrl.setRoot(HomePage);\n          }\n        }\n      }, err => {\n        console.log(\"err\", err);\n        this.loadingService.hideLoading();\n        this.showMessage.showToastBottom(\"Unable to get Surveys, please try again.\");\n      });\n  } */\n\n  toggleGroup(group: any) {\n    group.show = !group.show;\n  }\n\n  isGroupShown(group: any) {\n    return group.show;\n  }\n\n  viewSurveyDetails(survey_details) {\n    let tmp_survey_details = JSON.stringify(survey_details);\n    this.navCtrl.push(\"Surveys\", { \"survey_details\": tmp_survey_details });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey-list/survey-list.ts"],"sourceRoot":""}